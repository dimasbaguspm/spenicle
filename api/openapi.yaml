components:
  schemas:
    AccountModel:
      additionalProperties: false
      properties:
        amount:
          description: Current balance in base currency
          format: int64
          type: integer
        archivedAt:
          description: Timestamp when archived (null if active)
          format: date-time
          type: string
        budget:
          $ref: "#/components/schemas/EmbeddedBudget"
          description: Currently active budget for this account
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        deletedAt:
          description: Soft delete timestamp
          format: date-time
          type: string
        displayOrder:
          description: Display order sequence
          format: int64
          type: integer
        icon:
          description: Icon identifier
          type: string
        iconColor:
          description: Icon color code
          type: string
        id:
          description: Unique identifier
          format: int64
          type: integer
        name:
          description: Account name
          minLength: 1
          type: string
        note:
          description: Account notes
          type: string
        type:
          description: Account type (expense or income)
          enum:
            - expense
            - income
          minLength: 1
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
        - id
        - name
        - type
        - note
        - amount
        - displayOrder
        - createdAt
      type: object
    AccountStatisticsBudgetHealthEntry:
      additionalProperties: false
      properties:
        amountLimit:
          description: Budget limit in cents
          examples:
            - 5000000
          format: int64
          type: integer
        amountSpent:
          description: Amount spent in cents
          examples:
            - 3500000
          format: int64
          type: integer
        budgetId:
          description: Budget ID
          examples:
            - 1
          format: int64
          type: integer
        budgetName:
          description: Budget name
          examples:
            - Monthly Groceries
          type: string
        daysRemaining:
          description: Days remaining in budget period
          examples:
            - 10
          format: int64
          type: integer
        percentageUsed:
          description: Percentage of budget used
          examples:
            - 70
          format: double
          type: number
        periodEnd:
          description: Period end (YYYY-MM-DD)
          examples:
            - "2024-01-31"
          type: string
        periodStart:
          description: Period start (YYYY-MM-DD)
          examples:
            - "2024-01-01"
          type: string
        status:
          description: Budget health status
          enum:
            - on-track
            - warning
            - exceeded
            - active
            - inactive
            - past
          examples:
            - on-track
          type: string
      required:
        - budgetId
        - budgetName
        - periodStart
        - periodEnd
        - amountLimit
        - amountSpent
        - percentageUsed
        - status
        - daysRemaining
      type: object
    AccountStatisticsBudgetHealthModel:
      additionalProperties: false
      properties:
        achievementRate:
          description: Percentage of budgets successfully completed on track
          examples:
            - 80
          format: double
          type: number
        activeBudgets:
          description: Currently active budgets
          items:
            $ref: "#/components/schemas/AccountStatisticsBudgetHealthEntry"
          type:
            - array
            - "null"
        overallStatus:
          description: Overall budget health status
          enum:
            - healthy
            - at-risk
            - concerning
          examples:
            - healthy
          type: string
        pastBudgets:
          description: Past/completed budgets
          items:
            $ref: "#/components/schemas/AccountStatisticsBudgetHealthEntry"
          type:
            - array
            - "null"
        totalBudgets:
          description: Total number of budgets (active and past)
          examples:
            - 15
          format: int64
          type: integer
      required:
        - activeBudgets
        - pastBudgets
        - overallStatus
        - totalBudgets
        - achievementRate
      type: object
    AccountStatisticsBurnRateModel:
      additionalProperties: false
      properties:
        budgetLimitStatus:
          description: Status relative to active budget
          enum:
            - within
            - at-risk
            - exceeded
            - no-budget
          examples:
            - at-risk
          type: string
        dailyAverageSpend:
          description: Average daily spending in cents
          examples:
            - 150000
          format: int64
          type: integer
        daysRemaining:
          description: Estimated days until budget limit (if active budget exists)
          examples:
            - 10
          format: int64
          type: integer
        monthlyAverageSpend:
          description: Average monthly spending in cents
          examples:
            - 4500000
          format: int64
          type: integer
        spendingDays:
          description: Number of days with spending
          examples:
            - 28
          format: int64
          type: integer
        totalSpending:
          description: Total spending in the period in cents
          examples:
            - 90000000
          format: int64
          type: integer
        weeklyAverageSpend:
          description: Average weekly spending in cents
          examples:
            - 1050000
          format: int64
          type: integer
      required:
        - dailyAverageSpend
        - weeklyAverageSpend
        - monthlyAverageSpend
        - totalSpending
        - daysRemaining
        - spendingDays
        - budgetLimitStatus
      type: object
    AccountStatisticsCashFlowDataPoint:
      additionalProperties: false
      properties:
        balance:
          description: Account balance at this date in cents
          examples:
            - 5000000
          format: int64
          type: integer
        date:
          description: Date (YYYY-MM-DD)
          examples:
            - "2024-01-15"
          type: string
      required:
        - date
        - balance
      type: object
    AccountStatisticsCashFlowPulseModel:
      additionalProperties: false
      properties:
        data:
          description: Daily balance data points
          items:
            $ref: "#/components/schemas/AccountStatisticsCashFlowDataPoint"
          type:
            - array
            - "null"
        endingBalance:
          description: Balance at the end of the period in cents
          examples:
            - 5000000
          format: int64
          type: integer
        maxBalance:
          description: Maximum balance during the period in cents
          examples:
            - 10000000
          format: int64
          type: integer
        minBalance:
          description: Minimum balance during the period in cents
          examples:
            - 3000000
          format: int64
          type: integer
        startingBalance:
          description: Balance at the start of the period in cents
          examples:
            - 10000000
          format: int64
          type: integer
        trendDirection:
          description: Overall trend direction
          enum:
            - increasing
            - decreasing
            - stable
          examples:
            - decreasing
          type: string
      required:
        - data
        - startingBalance
        - endingBalance
        - minBalance
        - maxBalance
        - trendDirection
      type: object
    AccountStatisticsCategoryHeatmapEntry:
      additionalProperties: false
      properties:
        categoryId:
          description: Category ID
          examples:
            - 1
          format: int64
          type: integer
        categoryName:
          description: Category name
          examples:
            - Food
          type: string
        percentageOfTotal:
          description: Percentage of total spending
          examples:
            - 15.5
          format: double
          type: number
        totalAmount:
          description: Total spending amount in cents
          examples:
            - 1500000
          format: int64
          type: integer
        totalCount:
          description: Total number of transactions
          examples:
            - 25
          format: int64
          type: integer
      required:
        - categoryId
        - categoryName
        - totalCount
        - totalAmount
        - percentageOfTotal
      type: object
    AccountStatisticsCategoryHeatmapModel:
      additionalProperties: false
      properties:
        categoryCount:
          description: Number of categories with transactions
          examples:
            - 10
          format: int64
          type: integer
        data:
          description: Category spending data
          items:
            $ref: "#/components/schemas/AccountStatisticsCategoryHeatmapEntry"
          type:
            - array
            - "null"
        totalSpending:
          description: Total spending in the period
          examples:
            - 9680000
          format: int64
          type: integer
      required:
        - data
        - totalSpending
        - categoryCount
      type: object
    AccountStatisticsMonthlyVelocityEntry:
      additionalProperties: false
      properties:
        dailyAverage:
          description: Average daily spending in cents
          examples:
            - 112903
          format: int64
          type: integer
        expenseAmount:
          description: Total expense amount in cents
          examples:
            - 3500000
          format: int64
          type: integer
        expenseCount:
          description: Expense transactions
          examples:
            - 95
          format: int64
          type: integer
        incomeAmount:
          description: Total income amount in cents
          examples:
            - 5000000
          format: int64
          type: integer
        incomeCount:
          description: Income transactions
          examples:
            - 50
          format: int64
          type: integer
        net:
          description: Net amount (income - expense) in cents
          examples:
            - 1500000
          format: int64
          type: integer
        period:
          description: Month period (YYYY-MM)
          examples:
            - 2024-01
          type: string
        totalCount:
          description: Total transactions in month
          examples:
            - 150
          format: int64
          type: integer
        transferAmount:
          description: Total transfer amount in cents
          examples:
            - 500000
          format: int64
          type: integer
        transferCount:
          description: Transfer transactions
          examples:
            - 5
          format: int64
          type: integer
      required:
        - period
        - totalCount
        - incomeCount
        - expenseCount
        - transferCount
        - incomeAmount
        - expenseAmount
        - transferAmount
        - net
        - dailyAverage
      type: object
    AccountStatisticsMonthlyVelocityModel:
      additionalProperties: false
      properties:
        averageMonthlySpend:
          description: Average monthly spending in cents
          examples:
            - 3500000
          format: int64
          type: integer
        data:
          description: Monthly velocity data
          items:
            $ref: "#/components/schemas/AccountStatisticsMonthlyVelocityEntry"
          type:
            - array
            - "null"
        trendDirection:
          description: Spending trend direction
          enum:
            - increasing
            - decreasing
            - stable
          examples:
            - increasing
          type: string
      required:
        - data
        - averageMonthlySpend
        - trendDirection
      type: object
    AccountStatisticsResponse:
      additionalProperties: false
      properties:
        accountId:
          description: Account ID
          examples:
            - 1
          format: int64
          type: integer
        budgetHealth:
          $ref: "#/components/schemas/AccountStatisticsBudgetHealthModel"
          description: Budget health metrics
        burnRate:
          $ref: "#/components/schemas/AccountStatisticsBurnRateModel"
          description: Spending rate analysis
        cashFlowPulse:
          $ref: "#/components/schemas/AccountStatisticsCashFlowPulseModel"
          description: Daily balance trend over time
        categoryHeatmap:
          $ref: "#/components/schemas/AccountStatisticsCategoryHeatmapModel"
          description: Category spending distribution
        monthlyVelocity:
          $ref: "#/components/schemas/AccountStatisticsMonthlyVelocityModel"
          description: Monthly spending velocity
        period:
          description: Period covered (ISO 8601)
          examples:
            - 2024-01-01T00:00:00Z to 2024-12-31T23:59:59Z
          type: string
        timeFrequencyHeatmap:
          $ref: "#/components/schemas/AccountStatisticsTimeFrequencyHeatmapModel"
          description: Transaction frequency distribution
      required:
        - accountId
        - period
        - categoryHeatmap
        - monthlyVelocity
        - timeFrequencyHeatmap
        - cashFlowPulse
        - burnRate
        - budgetHealth
      type: object
    AccountStatisticsTimeFrequencyEntry:
      additionalProperties: false
      properties:
        count:
          description: Number of transactions at this frequency
          examples:
            - 45
          format: int64
          type: integer
        frequency:
          description: Time frequency (e.g., daily, weekly, monthly)
          examples:
            - weekly
          type: string
      required:
        - frequency
        - count
      type: object
    AccountStatisticsTimeFrequencyHeatmapModel:
      additionalProperties: false
      properties:
        data:
          description: Frequency distribution data
          items:
            $ref: "#/components/schemas/AccountStatisticsTimeFrequencyEntry"
          type:
            - array
            - "null"
        mostCommonPattern:
          description: Most common transaction frequency
          examples:
            - weekly
          type: string
        totalTransactions:
          description: Total transactions in period
          examples:
            - 240
          format: int64
          type: integer
      required:
        - data
        - mostCommonPattern
        - totalTransactions
      type: object
    AccountsPagedModel:
      additionalProperties: false
      properties:
        items:
          description: List of accounts
          items:
            $ref: "#/components/schemas/AccountModel"
          type:
            - array
            - "null"
        pageNumber:
          description: Current page number
          format: int64
          type: integer
        pageSize:
          description: Items per page
          format: int64
          type: integer
        totalCount:
          description: Total number of matching items
          format: int64
          type: integer
        totalPages:
          description: Total number of pages
          format: int64
          type: integer
      required:
        - items
        - pageNumber
        - pageSize
        - totalCount
        - totalPages
      type: object
    BudgetModel:
      additionalProperties: false
      properties:
        accountId:
          description: Account ID to filter transactions
          format: int64
          type: integer
        actualAmount:
          description: Actual spent amount in cents (computed from transactions)
          format: int64
          type: integer
        amountLimit:
          description: Budget limit amount in cents
          format: int64
          minimum: 1
          type: integer
        categoryId:
          description: Category ID to filter transactions
          format: int64
          type: integer
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        deletedAt:
          description: Soft delete timestamp
          format: date-time
          type: string
        id:
          description: Unique identifier
          format: int64
          type: integer
        name:
          description: Budget name
          maxLength: 100
          type: string
        note:
          description: Optional note for the budget
          maxLength: 500
          type:
            - string
            - "null"
        periodEnd:
          description: Budget period end date
          format: date-time
          type: string
        periodStart:
          description: Budget period start date
          format: date-time
          type: string
        periodType:
          description: Budget period type
          enum:
            - weekly
            - monthly
            - yearly
            - custom
          type: string
        status:
          description: Budget status (active or inactive)
          enum:
            - active
            - inactive
          type: string
        templateId:
          description: Budget template ID if generated from template
          format: int64
          type: integer
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
        - id
        - periodStart
        - periodEnd
        - amountLimit
        - actualAmount
        - status
        - periodType
        - name
        - note
        - createdAt
      type: object
    BudgetTemplateModel:
      additionalProperties: false
      properties:
        accountId:
          description: Account ID to filter transactions
          format: int64
          type: integer
        active:
          description: Whether this template is active and generating budgets
          type: boolean
        amountLimit:
          description: Budget limit amount in cents
          format: int64
          minimum: 1
          type: integer
        categoryId:
          description: Category ID to filter transactions
          format: int64
          type: integer
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        deletedAt:
          description: Soft delete timestamp
          format: date-time
          type: string
        endDate:
          description: Optional end date for recurrence
          format: date-time
          type: string
        id:
          description: Unique identifier
          format: int64
          type: integer
        lastExecutedAt:
          description: Timestamp of the last execution of this template
          format: date-time
          type: string
        name:
          description: Template name
          maxLength: 100
          type: string
        nextRunAt:
          description: Next run date for recurring budget creation
          format: date-time
          type: string
        note:
          description: Optional note for the template
          maxLength: 500
          type: string
        recurrence:
          description: Recurrence pattern
          enum:
            - none
            - weekly
            - monthly
            - yearly
          type: string
        startDate:
          description: Start date for recurrence
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
        - id
        - amountLimit
        - recurrence
        - startDate
        - name
        - active
        - createdAt
      type: object
    BudgetTemplatesPagedModel:
      additionalProperties: false
      properties:
        items:
          description: List of budget templates
          items:
            $ref: "#/components/schemas/BudgetTemplateModel"
          type:
            - array
            - "null"
        pageNumber:
          description: Current page number
          format: int64
          type: integer
        pageSize:
          description: Items per page
          format: int64
          type: integer
        totalCount:
          description: Total number of matching items
          format: int64
          type: integer
        totalPages:
          description: Total number of pages
          format: int64
          type: integer
      required:
        - items
        - pageNumber
        - pageSize
        - totalCount
        - totalPages
      type: object
    BudgetsPagedModel:
      additionalProperties: false
      properties:
        items:
          description: List of budgets
          items:
            $ref: "#/components/schemas/BudgetModel"
          type:
            - array
            - "null"
        pageNumber:
          description: Current page number
          format: int64
          type: integer
        pageSize:
          description: Items per page
          format: int64
          type: integer
        totalCount:
          description: Total number of matching items
          format: int64
          type: integer
        totalPages:
          description: Total number of pages
          format: int64
          type: integer
      required:
        - items
        - pageNumber
        - pageSize
        - totalCount
        - totalPages
      type: object
    BulkTransactionCommitResponseModel:
      additionalProperties: false
      properties:
        durationMs:
          description: Total processing time in milliseconds
          format: int64
          type: integer
        successCount:
          description: Number of successfully updated transactions
          format: int64
          type: integer
        updatedIds:
          description: List of updated transaction IDs
          items:
            format: int64
            type: integer
          type:
            - array
            - "null"
      required:
        - successCount
        - updatedIds
        - durationMs
      type: object
    BulkTransactionDraftModel:
      additionalProperties: false
      properties:
        updates:
          description: List of transaction updates (max 500)
          items:
            $ref: "#/components/schemas/BulkTransactionUpdateItemModel"
          maxLength: 500
          minLength: 1
          type:
            - array
            - "null"
      required:
        - updates
      type: object
    BulkTransactionDraftResponseModel:
      additionalProperties: false
      properties:
        createdAt:
          description: Draft creation timestamp
          format: date-time
          type: string
        expiresAt:
          description: Draft expiration timestamp
          format: date-time
          type: string
        transactionCount:
          description: Number of transactions in draft
          format: int64
          type: integer
        updatedAt:
          description: Draft last update timestamp
          format: date-time
          type: string
      required:
        - transactionCount
        - createdAt
        - updatedAt
        - expiresAt
      type: object
    BulkTransactionUpdateItemModel:
      additionalProperties: false
      properties:
        accountId:
          description: Source account ID
          format: int64
          minimum: 1
          type: integer
        amount:
          description: Transaction amount in the specified currency
          format: int64
          minimum: 1
          type: integer
        categoryId:
          description: Category ID
          format: int64
          minimum: 1
          type: integer
        currencyCode:
          description: ISO 4217 currency code (e.g., USD, EUR)
          type: string
        date:
          description: Transaction date
          format: date-time
          type: string
        destinationAccountId:
          description: Destination account ID (transfers only)
          format: int64
          type: integer
        id:
          description: Transaction ID to update
          format: int64
          minimum: 1
          type: integer
        latitude:
          description: Transaction latitude
          format: double
          maximum: 90
          minimum: -90
          type: number
        longitude:
          description: Transaction longitude
          format: double
          maximum: 180
          minimum: -180
          type: number
        note:
          description: Transaction notes
          type: string
        type:
          description: Transaction type
          enum:
            - expense
            - income
            - transfer
          minLength: 1
          type: string
      required:
        - id
      type: object
    CategoriesPagedModel:
      additionalProperties: false
      properties:
        items:
          description: List of categories
          items:
            $ref: "#/components/schemas/CategoryModel"
          type:
            - array
            - "null"
        pageNumber:
          description: Current page number
          format: int64
          type: integer
        pageSize:
          description: Items per page
          format: int64
          type: integer
        totalCount:
          description: Total number of matching items
          format: int64
          type: integer
        totalPages:
          description: Total number of pages
          format: int64
          type: integer
      required:
        - items
        - pageNumber
        - pageSize
        - totalCount
        - totalPages
      type: object
    CategoryModel:
      additionalProperties: false
      properties:
        archivedAt:
          description: Timestamp when archived (null if active)
          format: date-time
          type: string
        budget:
          $ref: "#/components/schemas/EmbeddedBudget"
          description: Currently active budget for this category
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        deletedAt:
          description: Soft delete timestamp
          format: date-time
          type: string
        displayOrder:
          description: Display order sequence
          format: int64
          type: integer
        icon:
          description: Icon identifier
          type: string
        iconColor:
          description: Icon color code
          type: string
        id:
          description: Unique identifier
          format: int64
          type: integer
        name:
          description: Category name
          minLength: 1
          type: string
        note:
          description: Category notes
          type: string
        type:
          description: Category type
          enum:
            - expense
            - income
            - transfer
          minLength: 1
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
        - id
        - name
        - type
        - note
        - displayOrder
        - createdAt
      type: object
    CategoryStatisticAccountDistributionEntry:
      additionalProperties: false
      properties:
        accountId:
          description: Account ID
          examples:
            - 1
          format: int64
          type: integer
        accountName:
          description: Account name
          examples:
            - Credit Card
          type: string
        amount:
          description: Total spending from this account in cents
          examples:
            - 2250000
          format: int64
          type: integer
        percentage:
          description: Percentage of total spending
          examples:
            - 75
          format: double
          type: number
      required:
        - accountId
        - accountName
        - amount
        - percentage
      type: object
    CategoryStatisticAccountDistributionModel:
      additionalProperties: false
      properties:
        accounts:
          description: Account spending distribution
          items:
            $ref: "#/components/schemas/CategoryStatisticAccountDistributionEntry"
          type:
            - array
            - "null"
        totalSpending:
          description: Total spending in cents
          examples:
            - 3000000
          format: int64
          type: integer
      required:
        - accounts
        - totalSpending
      type: object
    CategoryStatisticAverageTransactionSizeModel:
      additionalProperties: false
      properties:
        averageAmount:
          description: Average expense transaction amount in cents
          examples:
            - 25000
          format: int64
          type: integer
        averageIncomeAmount:
          description: Average income amount in cents
          examples:
            - 150000
          format: int64
          type: integer
        expenseCount:
          description: Expense transaction count
          examples:
            - 80
          format: int64
          type: integer
        incomeCount:
          description: Income transaction count
          examples:
            - 40
          format: int64
          type: integer
        incomeToExpenseRatio:
          description: Ratio of income/expense counts
          examples:
            - 0.5
          format: double
          type: number
        maxAmount:
          description: Maximum expense transaction amount in cents
          examples:
            - 500000
          format: int64
          type: integer
        maxIncomeAmount:
          description: Maximum income amount in cents
          examples:
            - 1000000
          format: int64
          type: integer
        medianAmount:
          description: Median expense transaction amount in cents
          examples:
            - 20000
          format: int64
          type: integer
        medianIncomeAmount:
          description: Median income amount in cents
          examples:
            - 100000
          format: int64
          type: integer
        minAmount:
          description: Minimum expense transaction amount in cents
          examples:
            - 5000
          format: int64
          type: integer
        minIncomeAmount:
          description: Minimum income amount in cents
          examples:
            - 50000
          format: int64
          type: integer
        transactionCount:
          description: Total number of transactions
          examples:
            - 120
          format: int64
          type: integer
      required:
        - transactionCount
        - averageAmount
        - minAmount
        - maxAmount
        - medianAmount
        - expenseCount
        - incomeCount
        - averageIncomeAmount
        - minIncomeAmount
        - maxIncomeAmount
        - medianIncomeAmount
        - incomeToExpenseRatio
      type: object
    CategoryStatisticBudgetUtilizationEntry:
      additionalProperties: false
      properties:
        budgetId:
          description: Budget ID
          examples:
            - 1
          format: int64
          type: integer
        limit:
          description: Budget limit in cents
          examples:
            - 1000000
          format: int64
          type: integer
        name:
          description: Budget name
          examples:
            - Food Budget
          type: string
        periodEnd:
          description: Budget period end date
          format: date-time
          type: string
        periodStart:
          description: Budget period start date
          format: date-time
          type: string
        remaining:
          description: Remaining budget in cents
          examples:
            - 250000
          format: int64
          type: integer
        spent:
          description: Amount spent in cents
          examples:
            - 750000
          format: int64
          type: integer
        utilization:
          description: Percentage of budget utilized
          examples:
            - 75
          format: double
          type: number
      required:
        - budgetId
        - name
        - limit
        - spent
        - remaining
        - utilization
        - periodStart
        - periodEnd
      type: object
    CategoryStatisticBudgetUtilizationModel:
      additionalProperties: false
      properties:
        budgets:
          description: Budget utilization data
          items:
            $ref: "#/components/schemas/CategoryStatisticBudgetUtilizationEntry"
          type:
            - array
            - "null"
      required:
        - budgets
      type: object
    CategoryStatisticDayOfWeekPatternEntry:
      additionalProperties: false
      properties:
        averageAmount:
          description: Average expense amount on this day in cents
          examples:
            - 25000
          format: int64
          type: integer
        dayOfWeek:
          description: Day of week
          examples:
            - Friday
          type: string
        expenseAverage:
          description: Average expense amount in cents
          examples:
            - 33333
          format: int64
          type: integer
        expenseCount:
          description: Expense transactions on this day
          examples:
            - 15
          format: int64
          type: integer
        expenseTotal:
          description: Total expense amount in cents
          examples:
            - 500000
          format: int64
          type: integer
        incomeAverage:
          description: Average income amount in cents
          examples:
            - 150000
          format: int64
          type: integer
        incomeCount:
          description: Income transactions on this day
          examples:
            - 5
          format: int64
          type: integer
        incomeTotal:
          description: Total income amount in cents
          examples:
            - 750000
          format: int64
          type: integer
        totalAmount:
          description: Total expense amount on this day in cents
          examples:
            - 500000
          format: int64
          type: integer
        transactionCount:
          description: Number of transactions on this day
          examples:
            - 20
          format: int64
          type: integer
      required:
        - dayOfWeek
        - transactionCount
        - totalAmount
        - averageAmount
        - expenseCount
        - incomeCount
        - expenseTotal
        - incomeTotal
        - expenseAverage
        - incomeAverage
      type: object
    CategoryStatisticDayOfWeekPatternModel:
      additionalProperties: false
      properties:
        data:
          description: Spending pattern by day of week
          items:
            $ref: "#/components/schemas/CategoryStatisticDayOfWeekPatternEntry"
          type:
            - array
            - "null"
        highestSpendDay:
          description: Day with highest expense total
          examples:
            - Saturday
          type: string
        mostActiveDay:
          description: Day with highest transaction count
          examples:
            - Friday
          type: string
        totalTransactions:
          description: Total transactions across all days
          examples:
            - 150
          format: int64
          type: integer
      required:
        - data
        - mostActiveDay
        - highestSpendDay
        - totalTransactions
      type: object
    CategoryStatisticSpendingVelocityDataPoint:
      additionalProperties: false
      properties:
        amount:
          description: Total expense amount in cents (legacy field)
          examples:
            - 2500000
          format: int64
          type: integer
        expenseAmount:
          description: Total expense in cents
          examples:
            - 2500000
          format: int64
          type: integer
        expenseCount:
          description: Expense transaction count
          examples:
            - 35
          format: int64
          type: integer
        incomeAmount:
          description: Total income in cents
          examples:
            - 5000000
          format: int64
          type: integer
        incomeCount:
          description: Income transaction count
          examples:
            - 10
          format: int64
          type: integer
        incomePercentage:
          description: Percentage of income vs total volume
          examples:
            - 66.67
          format: double
          type: number
        month:
          description: Month (YYYY-MM)
          examples:
            - 2024-01
          type: string
        net:
          description: Net flow (income - expense) in cents
          examples:
            - 2500000
          format: int64
          type: integer
        totalCount:
          description: Total transactions in month
          examples:
            - 45
          format: int64
          type: integer
      required:
        - month
        - amount
        - totalCount
        - incomeCount
        - expenseCount
        - incomeAmount
        - expenseAmount
        - net
        - incomePercentage
      type: object
    CategoryStatisticSpendingVelocityModel:
      additionalProperties: false
      properties:
        averageMonthlySpend:
          description: Average monthly expense in cents
          examples:
            - 2500000
          format: int64
          type: integer
        data:
          description: Monthly spending data for line chart
          items:
            $ref: "#/components/schemas/CategoryStatisticSpendingVelocityDataPoint"
          type:
            - array
            - "null"
        netFlow:
          description: Total net (income - expense) in cents
          examples:
            - 20000000
          format: int64
          type: integer
        totalExpense:
          description: Sum of all expense across months in cents
          examples:
            - 30000000
          format: int64
          type: integer
        totalIncome:
          description: Sum of all income across months in cents
          examples:
            - 50000000
          format: int64
          type: integer
        trendDirection:
          description: Spending trend direction
          enum:
            - increasing
            - decreasing
            - stable
          examples:
            - stable
          type: string
      required:
        - data
        - totalIncome
        - totalExpense
        - netFlow
        - trendDirection
        - averageMonthlySpend
      type: object
    CategoryStatisticsResponse:
      additionalProperties: false
      properties:
        accountDistribution:
          $ref: "#/components/schemas/CategoryStatisticAccountDistributionModel"
          description: Which accounts pay for this category
        averageTransactionSize:
          $ref: "#/components/schemas/CategoryStatisticAverageTransactionSizeModel"
          description: Typical transaction amounts
        budgetUtilization:
          $ref: "#/components/schemas/CategoryStatisticBudgetUtilizationModel"
          description: Budget progress
        dayOfWeekPattern:
          $ref: "#/components/schemas/CategoryStatisticDayOfWeekPatternModel"
          description: Spending patterns by day of week
        spendingVelocity:
          $ref: "#/components/schemas/CategoryStatisticSpendingVelocityModel"
          description: Spending trend over time
      required:
        - spendingVelocity
        - accountDistribution
        - averageTransactionSize
        - dayOfWeekPattern
        - budgetUtilization
      type: object
    CreateAccountModel:
      additionalProperties: false
      properties:
        icon:
          description: Icon identifier
          type: string
        iconColor:
          description: Icon color code
          type: string
        name:
          description: Account name
          minLength: 1
          type: string
        note:
          description: Optional account notes
          type: string
        type:
          description: Account type (expense or income)
          enum:
            - expense
            - income
          minLength: 1
          type: string
      required:
        - name
        - type
        - note
      type: object
    CreateBudgetTemplateModel:
      additionalProperties: false
      properties:
        accountId:
          description: Account ID to filter transactions
          format: int64
          minimum: 1
          type: integer
        active:
          default: true
          description: Whether this template is active and generating budgets
          type: boolean
        amountLimit:
          description: Budget limit amount in cents
          format: int64
          minimum: 1
          type: integer
        categoryId:
          description: Category ID to filter transactions
          format: int64
          minimum: 1
          type: integer
        endDate:
          description: Optional end date for recurrence
          format: date-time
          type: string
        name:
          description: Template name
          maxLength: 100
          type: string
        note:
          description: Optional note for the template
          maxLength: 500
          type: string
        recurrence:
          description: Recurrence pattern
          enum:
            - none
            - weekly
            - monthly
            - yearly
          type: string
        startDate:
          description: Start date for recurrence
          format: date-time
          type: string
      required:
        - amountLimit
        - recurrence
        - startDate
        - name
        - active
      type: object
    CreateCategoryModel:
      additionalProperties: false
      properties:
        icon:
          description: Icon identifier
          type: string
        iconColor:
          description: Icon color code
          type: string
        name:
          description: Category name
          minLength: 1
          type: string
        note:
          description: Optional category notes
          type: string
        type:
          description: Category type
          enum:
            - expense
            - income
            - transfer
          minLength: 1
          type: string
      required:
        - name
        - type
        - note
      type: object
    CreateTagModel:
      additionalProperties: false
      properties:
        color:
          description: Tag color code
          maxLength: 7
          type: string
        name:
          description: Tag name
          maxLength: 50
          minLength: 1
          type: string
      required:
        - name
      type: object
    CreateTransactionModel:
      additionalProperties: false
      properties:
        accountId:
          description: Source account ID
          format: int64
          minimum: 1
          type: integer
        amount:
          description: Transaction amount in the specified currency (defaults to base currency if currencyCode not provided)
          format: int64
          minimum: 1
          type: integer
        categoryId:
          description: Category ID
          format: int64
          minimum: 1
          type: integer
        currencyCode:
          description: ISO 4217 currency code (e.g., USD, EUR). If omitted, amount is treated as base currency.
          type: string
        date:
          description: Transaction date
          format: date-time
          type: string
        destinationAccountId:
          description: Destination account ID (transfers only)
          format: int64
          type: integer
        latitude:
          description: Transaction latitude
          format: double
          maximum: 90
          minimum: -90
          type: number
        longitude:
          description: Transaction longitude
          format: double
          maximum: 180
          minimum: -180
          type: number
        note:
          description: Optional transaction notes
          type: string
        type:
          description: Transaction type
          enum:
            - expense
            - income
            - transfer
          minLength: 1
          type: string
      required:
        - type
        - date
        - amount
        - accountId
        - categoryId
      type: object
    CreateTransactionRelationModel:
      additionalProperties: false
      properties:
        SourceTransactionID:
          description: ID of the source transaction
          format: int64
          minimum: 1
          type: integer
        relatedTransactionId:
          description: ID of the related transaction
          format: int64
          minimum: 1
          type: integer
        relationType:
          description: Type of relation
          type: string
      required:
        - SourceTransactionID
        - relatedTransactionId
        - relationType
      type: object
    CreateTransactionTagModel:
      additionalProperties: false
      properties:
        tagId:
          description: ID of the tag
          format: int64
          minimum: 1
          type: integer
        transactionId:
          description: ID of the transaction
          format: int64
          minimum: 1
          type: integer
      required:
        - tagId
      type: object
    CreateTransactionTemplateModel:
      additionalProperties: false
      properties:
        accountId:
          description: Source account ID
          format: int64
          minimum: 1
          type: integer
        amount:
          description: Template amount in base currency (IDR)
          format: int64
          minimum: 1
          type: integer
        categoryId:
          description: Category ID
          format: int64
          minimum: 1
          type: integer
        currencyCode:
          description: ISO 4217 currency code (optional, defaults to base currency)
          maxLength: 3
          minLength: 3
          type: string
        destinationAccountId:
          description: Destination account ID (transfers only)
          format: int64
          type: integer
        endDate:
          description: Template end date
          format: date-time
          type: string
        name:
          description: Template name
          maxLength: 100
          minLength: 1
          type: string
        note:
          description: Template notes
          type: string
        recurrence:
          description: Recurrence pattern
          enum:
            - none
            - weekly
            - monthly
            - yearly
          type: string
        startDate:
          description: Template start date
          format: date-time
          type: string
        type:
          description: Transaction type
          enum:
            - expense
            - income
            - transfer
          minLength: 1
          type: string
      required:
        - name
        - type
        - amount
        - accountId
        - categoryId
        - recurrence
        - startDate
      type: object
    EmbeddedBudget:
      additionalProperties: false
      properties:
        accountId:
          description: Account ID to filter transactions
          format: int64
          type: integer
        actualAmount:
          description: Actual spent amount in cents
          format: int64
          type: integer
        amountLimit:
          description: Budget limit amount in cents
          format: int64
          type: integer
        categoryId:
          description: Category ID to filter transactions
          format: int64
          type: integer
        id:
          description: Budget unique identifier
          format: int64
          type: integer
        name:
          description: Budget name
          type: string
        periodEnd:
          description: Budget period end date
          format: date-time
          type: string
        periodStart:
          description: Budget period start date
          format: date-time
          type: string
        periodType:
          description: Budget period type
          type: string
        templateId:
          description: Budget template ID if generated from template
          format: int64
          type: integer
      required:
        - id
        - periodStart
        - periodEnd
        - amountLimit
        - actualAmount
        - periodType
        - name
      type: object
    ErrorDetail:
      additionalProperties: false
      properties:
        location:
          description: Where the error occurred, e.g. 'body.items[3].tags' or 'path.thing-id'
          type: string
        message:
          description: Error message text
          type: string
        value:
          description: The value at the given location
      type: object
    ErrorModel:
      additionalProperties: false
      properties:
        detail:
          description: A human-readable explanation specific to this occurrence of the problem.
          examples:
            - Property foo is required but is missing.
          type: string
        errors:
          description: Optional list of individual error details
          items:
            $ref: "#/components/schemas/ErrorDetail"
          type:
            - array
            - "null"
        instance:
          description: A URI reference that identifies the specific occurrence of the problem.
          examples:
            - https://example.com/error-log/abc123
          format: uri
          type: string
        status:
          description: HTTP status code
          examples:
            - 400
          format: int64
          type: integer
        title:
          description: A short, human-readable summary of the problem type. This value should not change between occurrences of the error.
          examples:
            - Bad Request
          type: string
        type:
          default: about:blank
          description: A URI reference to human-readable documentation for the error.
          examples:
            - https://example.com/errors/example
          format: uri
          type: string
      type: object
    LoginRequestModel:
      additionalProperties: false
      properties:
        password:
          description: Admin password
          minLength: 1
          type: string
        username:
          description: Admin username
          minLength: 1
          type: string
      required:
        - username
        - password
      type: object
    LoginResponseModel:
      additionalProperties: false
      properties:
        access_token:
          description: Access token valid for 7 days
          type: string
        refresh_token:
          description: Refresh token valid for 30 days
          type: string
      required:
        - access_token
        - refresh_token
      type: object
    RefreshGeoCache:
      additionalProperties: false
      properties:
        latitude:
          description: User's latitude for distance-based ordering (optional)
          format: double
          type:
            - number
            - "null"
        longitude:
          description: User's longitude for distance-based ordering (optional)
          format: double
          type:
            - number
            - "null"
      required:
        - latitude
        - longitude
      type: object
    RefreshRequestModel:
      additionalProperties: false
      properties:
        refresh_token:
          description: Refresh token
          minLength: 1
          type: string
      required:
        - refresh_token
      type: object
    RefreshResponseModel:
      additionalProperties: false
      properties:
        access_token:
          description: New access token valid for 7 days
          type: string
      required:
        - access_token
      type: object
    ReorderAccountsModel:
      additionalProperties: false
      properties:
        data:
          description: Ordered list of account IDs, first item will receive displayOrder 0
          items:
            format: int64
            type: integer
          type:
            - array
            - "null"
      required:
        - data
      type: object
    ReorderCategoriesModel:
      additionalProperties: false
      properties:
        items:
          description: Ordered list of category IDs, first item will receive displayOrder 0
          items:
            format: int64
            type: integer
          type:
            - array
            - "null"
      required:
        - items
      type: object
    SeedDevelopmentDataResponseBody:
      additionalProperties: false
      properties:
        message:
          description: Response message
          type: string
      required:
        - message
      type: object
    SummaryAccountListModel:
      additionalProperties: false
      properties:
        data:
          description: Summary data grouped by account
          items:
            $ref: "#/components/schemas/SummaryAccountModel"
          type:
            - array
            - "null"
      required:
        - data
      type: object
    SummaryAccountModel:
      additionalProperties: false
      properties:
        expenseAmount:
          description: Total expense amount
          examples:
            - 2500000
          format: int64
          type: integer
        id:
          description: Account ID
          examples:
            - 1
          format: int64
          type: integer
        incomeAmount:
          description: Total income amount
          examples:
            - 3000000
          format: int64
          type: integer
        name:
          description: Account name
          examples:
            - Cash
          type: string
        net:
          description: Net amount (income - expense)
          examples:
            - 500000
          format: int64
          type: integer
        totalCount:
          description: Total number of transactions
          examples:
            - 100
          format: int64
          type: integer
        type:
          description: Account type
          enum:
            - income
            - expense
          examples:
            - expense
          type: string
      required:
        - id
        - name
        - type
        - totalCount
        - incomeAmount
        - expenseAmount
        - net
      type: object
    SummaryCategoryListModel:
      additionalProperties: false
      properties:
        data:
          description: Summary data grouped by category
          items:
            $ref: "#/components/schemas/SummaryCategoryModel"
          type:
            - array
            - "null"
      required:
        - data
      type: object
    SummaryCategoryModel:
      additionalProperties: false
      properties:
        expenseAmount:
          description: Total expense amount
          examples:
            - 1500000
          format: int64
          type: integer
        id:
          description: Category ID
          examples:
            - 1
          format: int64
          type: integer
        incomeAmount:
          description: Total income amount
          examples:
            - 0
          format: int64
          type: integer
        name:
          description: Category name
          examples:
            - Food
          type: string
        net:
          description: Net amount (income - expense)
          examples:
            - -1500000
          format: int64
          type: integer
        totalCount:
          description: Total number of transactions
          examples:
            - 75
          format: int64
          type: integer
        type:
          description: Category type
          enum:
            - income
            - expense
            - transfer
          examples:
            - expense
          type: string
      required:
        - id
        - name
        - type
        - totalCount
        - incomeAmount
        - expenseAmount
        - net
      type: object
    SummaryGeospatialGridCell:
      additionalProperties: false
      properties:
        expenseAmount:
          description: Total expense amount
          examples:
            - 3000000
          format: int64
          type: integer
        expenseCount:
          description: Number of expense transactions
          examples:
            - 28
          format: int64
          type: integer
        gridLat:
          description: Grid cell center latitude
          examples:
            - -6.175
          format: double
          type: number
        gridLon:
          description: Grid cell center longitude
          examples:
            - 106.827
          format: double
          type: number
        incomeAmount:
          description: Total income amount
          examples:
            - 2000000
          format: int64
          type: integer
        incomeCount:
          description: Number of income transactions
          examples:
            - 15
          format: int64
          type: integer
        totalAmount:
          description: Total transaction amount in this grid cell
          examples:
            - 5000000
          format: int64
          type: integer
        transactionCount:
          description: Total number of transactions in this grid cell
          examples:
            - 45
          format: int64
          type: integer
        transferCount:
          description: Number of transfer transactions
          examples:
            - 2
          format: int64
          type: integer
      required:
        - gridLat
        - gridLon
        - transactionCount
        - totalAmount
        - incomeAmount
        - expenseAmount
        - incomeCount
        - expenseCount
        - transferCount
      type: object
    SummaryGeospatialListModel:
      additionalProperties: false
      properties:
        centerLat:
          description: Search center latitude
          examples:
            - -6.175
          format: double
          type: number
        centerLon:
          description: Search center longitude
          examples:
            - 106.827
          format: double
          type: number
        data:
          description: Grid cells with aggregated transaction data
          items:
            $ref: "#/components/schemas/SummaryGeospatialGridCell"
          type:
            - array
            - "null"
        gridPrecision:
          description: Grid cell precision level
          examples:
            - 3
          format: int64
          type: integer
        radiusMeters:
          description: Search radius in meters
          examples:
            - 5000
          format: int64
          type: integer
        totalCells:
          description: Total number of grid cells with transactions
          examples:
            - 8
          format: int64
          type: integer
      required:
        - centerLat
        - centerLon
        - radiusMeters
        - gridPrecision
        - totalCells
        - data
      type: object
    SummaryTransactionListModel:
      additionalProperties: false
      properties:
        data:
          description: Summary data grouped by period
          items:
            $ref: "#/components/schemas/SummaryTransactionModel"
          type:
            - array
            - "null"
        frequency:
          description: Grouping frequency
          examples:
            - monthly
          type: string
      required:
        - frequency
        - data
      type: object
    SummaryTransactionModel:
      additionalProperties: false
      properties:
        expenseAmount:
          description: Total expense amount
          examples:
            - 3500000
          format: int64
          type: integer
        expenseCount:
          description: Number of expense transactions
          examples:
            - 95
          format: int64
          type: integer
        incomeAmount:
          description: Total income amount
          examples:
            - 5000000
          format: int64
          type: integer
        incomeCount:
          description: Number of income transactions
          examples:
            - 50
          format: int64
          type: integer
        net:
          description: Net amount (income - expense)
          examples:
            - 1500000
          format: int64
          type: integer
        period:
          description: Time period (e.g., 2024-01, 2024-W01, 2024-01-01, 2024)
          examples:
            - 2024-01
          type: string
        totalCount:
          description: Total number of transactions
          examples:
            - 150
          format: int64
          type: integer
        transferAmount:
          description: Total transfer amount
          examples:
            - 500000
          format: int64
          type: integer
        transferCount:
          description: Number of transfer transactions
          examples:
            - 5
          format: int64
          type: integer
      required:
        - period
        - totalCount
        - incomeCount
        - expenseCount
        - transferCount
        - incomeAmount
        - expenseAmount
        - transferAmount
        - net
      type: object
    TagModel:
      additionalProperties: false
      properties:
        color:
          description: Tag color code
          type: string
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        deletedAt:
          description: Soft delete timestamp
          format: date-time
          type: string
        id:
          description: Unique identifier
          format: int64
          type: integer
        name:
          description: Tag name
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
        - id
        - name
        - createdAt
      type: object
    TagsPagedModel:
      additionalProperties: false
      properties:
        items:
          description: List of tags
          items:
            $ref: "#/components/schemas/TagModel"
          type:
            - array
            - "null"
        pageNumber:
          description: Current page number
          format: int64
          type: integer
        pageSize:
          description: Items per page
          format: int64
          type: integer
        totalCount:
          description: Total number of matching items
          format: int64
          type: integer
        totalPages:
          description: Total number of pages
          format: int64
          type: integer
      required:
        - items
        - pageNumber
        - pageSize
        - totalCount
        - totalPages
      type: object
    TransactionAccountEmbedded:
      additionalProperties: false
      properties:
        amount:
          description: Account balance
          format: int64
          type: integer
        icon:
          description: Icon identifier
          type: string
        iconColor:
          description: Icon color
          type: string
        id:
          description: Account ID
          format: int64
          type: integer
        name:
          description: Account name
          type: string
        type:
          description: Account type
          enum:
            - expense
            - income
          type: string
      required:
        - id
        - name
        - type
        - amount
      type: object
    TransactionCategoryEmbedded:
      additionalProperties: false
      properties:
        icon:
          description: Icon identifier
          type: string
        iconColor:
          description: Icon color
          type: string
        id:
          description: Category ID
          format: int64
          type: integer
        name:
          description: Category name
          type: string
        type:
          description: Category type
          enum:
            - expense
            - income
            - transfer
          type: string
      required:
        - id
        - name
        - type
      type: object
    TransactionModel:
      additionalProperties: false
      properties:
        account:
          $ref: "#/components/schemas/TransactionAccountEmbedded"
          description: Source account details
        amount:
          description: Transaction amount in base currency (IDR)
          format: int64
          type: integer
        amountForeign:
          description: Foreign currency amount (as input by user). Null if transaction is in base currency.
          format: int64
          type: integer
        category:
          $ref: "#/components/schemas/TransactionCategoryEmbedded"
          description: Category details
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        currencyCode:
          description: ISO 4217 currency code for foreign amount (e.g., USD, EUR). Null if transaction is in base currency.
          type: string
        date:
          description: Transaction date
          format: date-time
          type: string
        deletedAt:
          description: Soft delete timestamp
          format: date-time
          type: string
        destinationAccount:
          $ref: "#/components/schemas/TransactionAccountEmbedded"
          description: Destination account (transfers only)
        exchangeAt:
          description: Timestamp when the currency conversion was applied. Null for base currency transactions.
          format: date-time
          type: string
        exchangeRate:
          description: "Exchange rate applied: foreign_currency  base_currency (IDR). e.g., 16500.5 for USDIDR. Null if no conversion."
          format: double
          type: number
        id:
          description: Unique identifier
          format: int64
          type: integer
        latitude:
          description: Transaction latitude
          format: double
          maximum: 90
          minimum: -90
          type: number
        longitude:
          description: Transaction longitude
          format: double
          maximum: 180
          minimum: -180
          type: number
        note:
          description: Transaction notes
          type: string
        tags:
          description: Transaction tags
          items:
            $ref: "#/components/schemas/TransactionTagEmbedded"
          type:
            - array
            - "null"
        template:
          $ref: "#/components/schemas/TransactionTemplateEmbedded"
          description: Associated transaction template details
        type:
          description: Transaction type
          enum:
            - expense
            - income
            - transfer
          minLength: 1
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
        - id
        - type
        - date
        - amount
        - account
        - category
        - tags
        - template
        - createdAt
      type: object
    TransactionRelationModel:
      additionalProperties: false
      properties:
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        deletedAt:
          description: Deletion timestamp
          format: date-time
          type:
            - string
            - "null"
        id:
          description: Unique identifier
          format: int64
          type: integer
        relatedTransactionId:
          description: ID of the related transaction
          format: int64
          type: integer
        relationType:
          description: Type of relation
          type: string
        sourceTransactionId:
          description: ID of the source transaction
          format: int64
          type: integer
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
        - id
        - sourceTransactionId
        - relatedTransactionId
        - relationType
        - createdAt
        - updatedAt
        - deletedAt
      type: object
    TransactionRelationsPagedModel:
      additionalProperties: false
      properties:
        items:
          description: List of transaction relations
          items:
            $ref: "#/components/schemas/TransactionRelationModel"
          type:
            - array
            - "null"
        pageNumber:
          description: Current page number
          format: int64
          type: integer
        pageSize:
          description: Items per page
          format: int64
          type: integer
        totalCount:
          description: Total number of matching items
          format: int64
          type: integer
        totalPages:
          description: Total number of pages
          format: int64
          type: integer
      required:
        - items
        - pageNumber
        - pageSize
        - totalCount
        - totalPages
      type: object
    TransactionTagEmbedded:
      additionalProperties: false
      properties:
        id:
          description: Tag ID
          format: int64
          type: integer
        name:
          description: Tag name
          type: string
      required:
        - id
        - name
      type: object
    TransactionTagModel:
      additionalProperties: false
      properties:
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        id:
          description: Unique identifier
          format: int64
          type: integer
        tagId:
          description: ID of the tag
          format: int64
          type: integer
        tagName:
          description: Name of the tag
          type: string
        transactionId:
          description: ID of the transaction
          format: int64
          type: integer
      required:
        - id
        - transactionId
        - tagId
        - tagName
        - createdAt
      type: object
    TransactionTagsPagedModel:
      additionalProperties: false
      properties:
        items:
          description: List of transaction tags
          items:
            $ref: "#/components/schemas/TransactionTagModel"
          type:
            - array
            - "null"
        pageNumber:
          description: Current page number
          format: int64
          type: integer
        pageSize:
          description: Items per page
          format: int64
          type: integer
        totalCount:
          description: Total number of matching items
          format: int64
          type: integer
        totalPages:
          description: Total number of pages
          format: int64
          type: integer
      required:
        - items
        - pageNumber
        - pageSize
        - totalCount
        - totalPages
      type: object
    TransactionTemplateEmbedded:
      additionalProperties: false
      properties:
        amount:
          description: Template amount
          format: int64
          type: integer
        endDate:
          description: Template end date
          format: date-time
          type:
            - string
            - "null"
        id:
          description: Template ID
          format: int64
          type: integer
        name:
          description: Template name
          type: string
        recurrence:
          description: Recurrence pattern
          enum:
            - none
            - weekly
            - monthly
            - yearly
          type: string
        startDate:
          description: Template start date
          format: date-time
          type: string
      required:
        - id
        - name
        - amount
        - recurrence
        - startDate
        - endDate
      type: object
    TransactionTemplateModel:
      additionalProperties: false
      properties:
        account:
          $ref: "#/components/schemas/TransactionAccountEmbedded"
          description: Source account details
        amount:
          description: Template amount in base currency (IDR)
          format: int64
          type: integer
        category:
          $ref: "#/components/schemas/TransactionCategoryEmbedded"
          description: Category details
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        currencyCode:
          description: ISO 4217 currency code (null = base currency only)
          type: string
        deletedAt:
          description: Soft delete timestamp
          format: date-time
          type: string
        destinationAccount:
          $ref: "#/components/schemas/TransactionAccountEmbedded"
          description: Destination account details (transfers only)
        endDate:
          description: Template end date
          format: date-time
          type:
            - string
            - "null"
        id:
          description: Unique identifier
          format: int64
          type: integer
        lastExecutedAt:
          description: Last execution timestamp
          format: date-time
          type: string
        name:
          description: Template name
          type: string
        nextDueAt:
          description: Next due date for recurring transactions
          format: date-time
          type:
            - string
            - "null"
        note:
          description: Template notes
          type: string
        recurrence:
          description: Recurrence pattern
          enum:
            - none
            - weekly
            - monthly
            - yearly
          type: string
        recurringStats:
          $ref: "#/components/schemas/TransactionTemplateRecurringStats"
          description: Recurring transaction statistics
        startDate:
          description: Template start date
          format: date-time
          type: string
        type:
          description: Transaction type
          enum:
            - expense
            - income
            - transfer
          minLength: 1
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
        - id
        - name
        - type
        - amount
        - account
        - category
        - recurrence
        - startDate
        - endDate
        - nextDueAt
        - recurringStats
        - createdAt
        - updatedAt
      type: object
    TransactionTemplateRecurringStats:
      additionalProperties: false
      properties:
        occurrences:
          description: Number of related transactions created
          format: int64
          type: integer
        remaining:
          description: Number of remaining occurrences (null if no end date)
          format: int64
          type:
            - integer
            - "null"
        totalSpent:
          description: Total amount spent from related transactions
          format: int64
          type: integer
      required:
        - occurrences
        - remaining
        - totalSpent
      type: object
    TransactionTemplatesPagedModel:
      additionalProperties: false
      properties:
        items:
          description: List of transaction templates
          items:
            $ref: "#/components/schemas/TransactionTemplateModel"
          type:
            - array
            - "null"
        pageNumber:
          description: Current page number
          format: int64
          type: integer
        pageSize:
          description: Items per page
          format: int64
          type: integer
        totalCount:
          description: Total number of matching items
          format: int64
          type: integer
        totalPages:
          description: Total number of pages
          format: int64
          type: integer
      required:
        - items
        - pageNumber
        - pageSize
        - totalCount
        - totalPages
      type: object
    TransactionsPagedModel:
      additionalProperties: false
      properties:
        items:
          description: List of transactions
          items:
            $ref: "#/components/schemas/TransactionModel"
          type:
            - array
            - "null"
        pageNumber:
          description: Current page number
          format: int64
          type: integer
        pageSize:
          description: Items per page
          format: int64
          type: integer
        totalCount:
          description: Total number of matching items
          format: int64
          type: integer
        totalPages:
          description: Total number of pages
          format: int64
          type: integer
      required:
        - items
        - pageNumber
        - pageSize
        - totalCount
        - totalPages
      type: object
    UpdateAccountModel:
      additionalProperties: false
      properties:
        archivedAt:
          description: Archive status (null string to unarchive, any other value to archive)
          type: string
        icon:
          description: Icon identifier
          type: string
        iconColor:
          description: Icon color code
          type: string
        name:
          description: Account name
          minLength: 1
          type: string
        note:
          description: Account notes
          type: string
        type:
          description: Account type (expense or income)
          enum:
            - expense
            - income
          minLength: 1
          type: string
      type: object
    UpdateBudgetRequestModel:
      additionalProperties: false
      properties:
        amountLimit:
          description: Budget limit amount in cents
          format: int64
          minimum: 1
          type: integer
      type: object
    UpdateBudgetTemplateModel:
      additionalProperties: false
      properties:
        active:
          description: Whether this template is active and generating budgets
          type: boolean
        amountLimit:
          description: Budget limit amount in cents
          format: int64
          minimum: 1
          type: integer
        name:
          description: Template name
          maxLength: 100
          type: string
        note:
          description: Optional note for the template
          maxLength: 500
          type: string
      type: object
    UpdateCategoryModel:
      additionalProperties: false
      properties:
        archivedAt:
          description: Archive status (null string to unarchive, any other value to archive)
          type: string
        icon:
          description: Icon identifier
          type: string
        iconColor:
          description: Icon color code
          type: string
        name:
          description: Category name
          minLength: 1
          type: string
        note:
          description: Category notes
          type: string
        type:
          description: Category type
          enum:
            - expense
            - income
            - transfer
          minLength: 1
          type: string
      type: object
    UpdateTagModel:
      additionalProperties: false
      properties:
        color:
          description: Tag color code
          maxLength: 7
          type: string
        name:
          description: Tag name
          maxLength: 50
          minLength: 1
          type: string
      type: object
    UpdateTransactionModel:
      additionalProperties: false
      properties:
        accountId:
          description: Source account ID
          format: int64
          minimum: 1
          type: integer
        amount:
          description: Transaction amount in the specified currency
          format: int64
          minimum: 1
          type: integer
        categoryId:
          description: Category ID
          format: int64
          minimum: 1
          type: integer
        currencyCode:
          description: ISO 4217 currency code (e.g., USD, EUR)
          type: string
        date:
          description: Transaction date
          format: date-time
          type: string
        destinationAccountId:
          description: Destination account ID (transfers only)
          format: int64
          type: integer
        latitude:
          description: Transaction latitude
          format: double
          maximum: 90
          minimum: -90
          type: number
        longitude:
          description: Transaction longitude
          format: double
          maximum: 180
          minimum: -180
          type: number
        note:
          description: Transaction notes
          type: string
        type:
          description: Transaction type
          enum:
            - expense
            - income
            - transfer
          minLength: 1
          type: string
      type: object
    UpdateTransactionTemplateModel:
      additionalProperties: false
      properties:
        accountId:
          description: Source account ID
          format: int64
          minimum: 1
          type: integer
        amount:
          description: Template amount in base currency (IDR)
          format: int64
          minimum: 1
          type: integer
        categoryId:
          description: Category ID
          format: int64
          minimum: 1
          type: integer
        currencyCode:
          description: ISO 4217 currency code (null = base currency only, affects future-dated transactions)
          maxLength: 3
          minLength: 3
          type: string
        destinationAccountId:
          description: Destination account ID (transfers only)
          format: int64
          type: integer
        endDate:
          description: Template end date
          format: date-time
          type: string
        name:
          description: Template name
          maxLength: 100
          minLength: 1
          type: string
        note:
          description: Template notes
          type: string
        recurrence:
          description: Recurrence pattern
          enum:
            - none
            - weekly
            - monthly
            - yearly
          type: string
        type:
          description: Transaction type
          enum:
            - expense
            - income
            - transfer
          minLength: 1
          type: string
      type: object
  securitySchemes:
    bearer:
      bearerFormat: JWT
      scheme: bearer
      type: http
info:
  title: Spenicle API
  version: 1.0.0
openapi: 3.1.0
paths:
  /accounts:
    get:
      description: Get a paginated list of accounts with optional search
      operationId: list-accounts
      parameters:
        - description: Page number for pagination
          explode: false
          in: query
          name: pageNumber
          schema:
            default: 1
            description: Page number for pagination
            format: int64
            minimum: 1
            type: integer
        - description: Number of items per page
          explode: false
          in: query
          name: pageSize
          schema:
            default: 25
            description: Number of items per page
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - description: Field to sort by (name, type, amount, displayOrder, createdAt, updatedAt)
          explode: false
          in: query
          name: sortBy
          schema:
            default: createdAt
            description: Field to sort by (name, type, amount, displayOrder, createdAt, updatedAt)
            enum:
              - name
              - type
              - amount
              - displayOrder
              - createdAt
              - updatedAt
            type: string
        - description: Sort order (asc or desc)
          explode: false
          in: query
          name: sortOrder
          schema:
            default: desc
            description: Sort order (asc or desc)
            enum:
              - asc
              - desc
            type: string
        - description: Filter by account IDs
          explode: false
          in: query
          name: id
          schema:
            description: Filter by account IDs
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by account name (partial match)
          explode: false
          in: query
          name: name
          schema:
            description: Filter by account name (partial match)
            type: string
        - description: Filter by account type (expense or income)
          explode: false
          in: query
          name: type
          schema:
            description: Filter by account type (expense or income)
            items:
              enum:
                - expense
                - income
              type: string
            type:
              - array
              - "null"
        - description: Filter by archived status (true or false)
          explode: false
          in: query
          name: archived
          schema:
            description: Filter by archived status (true or false)
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountsPagedModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: List accounts
      tags:
        - Accounts
    post:
      description: Create a new account
      operationId: create-account
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateAccountModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Create account
      tags:
        - Accounts
  /accounts/reorder:
    post:
      description: Update display order for multiple accounts
      operationId: reorder-accounts
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ReorderAccountsModel"
        required: true
      responses:
        "204":
          description: No Content
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Reorder accounts
      tags:
        - Accounts
  /accounts/{id}:
    delete:
      description: Delete an account
      operationId: delete-account
      parameters:
        - description: Unique identifier of the account
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the account
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
      responses:
        "204":
          description: No Content
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Delete account
      tags:
        - Accounts
    get:
      description: Get a single account by ID
      operationId: get-account
      parameters:
        - description: Unique identifier of the account
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the account
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get account
      tags:
        - Accounts
    patch:
      description: Update an existing account
      operationId: update-account
      parameters:
        - description: Unique identifier of the account
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the account
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateAccountModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Update account
      tags:
        - Accounts
  /accounts/{id}/statistics:
    get:
      description: Returns all account statistics including category heatmap, monthly velocity, time frequency distribution, cash flow pulse (balance trend), burn rate (spending analysis), and budget health metrics
      operationId: get-account-statistics
      parameters:
        - description: Unique identifier of the account
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the account
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountStatisticsResponse"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get comprehensive account statistics
      tags:
        - Accounts
  /accounts/{id}/statistics/budget-health:
    get:
      description: Returns health status of active and past budgets for this account
      operationId: get-budget-health
      parameters:
        - description: Unique identifier of the account
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the account
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountStatisticsBudgetHealthModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get budget health metrics
      tags:
        - Accounts
  /accounts/{id}/statistics/burn-rate:
    get:
      description: Returns daily/weekly/monthly average spending and budget projection estimates
      operationId: get-burn-rate
      parameters:
        - description: Unique identifier of the account
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the account
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountStatisticsBurnRateModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get spending burn rate analysis
      tags:
        - Accounts
  /accounts/{id}/statistics/cash-flow-pulse:
    get:
      description: Returns daily balance trend over the specified period for visualizing cash flow patterns
      operationId: get-cash-flow-pulse
      parameters:
        - description: Unique identifier of the account
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the account
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountStatisticsCashFlowPulseModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get cash flow balance trend
      tags:
        - Accounts
  /accounts/{id}/statistics/category-heatmap:
    get:
      description: Returns spending distribution by category for the specified time period
      operationId: get-category-heatmap
      parameters:
        - description: Unique identifier of the account
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the account
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountStatisticsCategoryHeatmapModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get category spending heatmap
      tags:
        - Accounts
  /accounts/{id}/statistics/monthly-velocity:
    get:
      description: Returns month-over-month spending trends and velocity metrics
      operationId: get-monthly-velocity
      parameters:
        - description: Unique identifier of the account
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the account
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountStatisticsMonthlyVelocityModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get monthly spending velocity
      tags:
        - Accounts
  /accounts/{id}/statistics/time-frequency:
    get:
      description: Returns frequency distribution of transactions (daily, weekly, monthly, irregular)
      operationId: get-time-frequency
      parameters:
        - description: Unique identifier of the account
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the account
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountStatisticsTimeFrequencyHeatmapModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get transaction time frequency distribution
      tags:
        - Accounts
  /auth/login:
    post:
      description: Authenticate and receive access and refresh tokens
      operationId: login
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LoginRequestModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LoginResponseModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      summary: Login
      tags:
        - Auth
  /auth/refresh:
    post:
      description: Get new access token using refresh token
      operationId: refresh
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RefreshRequestModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RefreshResponseModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      summary: Refresh token
      tags:
        - Auth
  /budgets:
    get:
      description: Get a paginated list of budget templates
      operationId: list-budget-templates
      parameters:
        - description: Page number for pagination
          explode: false
          in: query
          name: pageNumber
          schema:
            default: 1
            description: Page number for pagination
            format: int64
            minimum: 1
            type: integer
        - description: Number of items per page
          explode: false
          in: query
          name: pageSize
          schema:
            default: 25
            description: Number of items per page
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - description: Field to sort by
          explode: false
          in: query
          name: sortBy
          schema:
            default: createdAt
            description: Field to sort by
            enum:
              - id
              - accountId
              - categoryId
              - amountLimit
              - recurrence
              - startDate
              - endDate
              - name
              - active
              - nextRunAt
              - createdAt
              - updatedAt
            type: string
        - description: Sort order
          explode: false
          in: query
          name: sortOrder
          schema:
            default: desc
            description: Sort order
            enum:
              - asc
              - desc
            type: string
        - description: Filter by template IDs
          explode: false
          in: query
          name: id
          schema:
            description: Filter by template IDs
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by account IDs
          explode: false
          in: query
          name: accountId
          schema:
            description: Filter by account IDs
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by category IDs
          explode: false
          in: query
          name: categoryId
          schema:
            description: Filter by category IDs
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by recurrence pattern
          explode: false
          in: query
          name: recurrence
          schema:
            description: Filter by recurrence pattern
            enum:
              - none
              - weekly
              - monthly
              - yearly
            type: string
        - description: Filter by active status
          explode: false
          in: query
          name: active
          schema:
            description: Filter by active status
            type: boolean
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BudgetTemplatesPagedModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: List budget templates
      tags:
        - Budget Templates
    post:
      description: Create a new budget template
      operationId: create-budget-template
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateBudgetTemplateModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BudgetTemplateModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Create budget template
      tags:
        - Budget Templates
  /budgets/{id}:
    get:
      description: Get a single budget template by ID
      operationId: get-budget-template
      parameters:
        - description: Budget Template ID
          in: path
          name: id
          required: true
          schema:
            description: Budget Template ID
            format: int64
            minimum: 1
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BudgetTemplateModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get budget template
      tags:
        - Budget Templates
    patch:
      description: Update an existing budget template (name, note, active status only)
      operationId: update-budget-template
      parameters:
        - description: Budget Template ID
          in: path
          name: id
          required: true
          schema:
            description: Budget Template ID
            format: int64
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateBudgetTemplateModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BudgetTemplateModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Update budget template
      tags:
        - Budget Templates
  /budgets/{id}/list:
    get:
      description: Get budgets generated from a budget template with pagination
      operationId: list-budget-template-related-budgets
      parameters:
        - description: Budget Template ID
          in: path
          name: id
          required: true
          schema:
            description: Budget Template ID
            format: int64
            minimum: 1
            type: integer
        - description: Page number for pagination
          explode: false
          in: query
          name: pageNumber
          schema:
            default: 1
            description: Page number for pagination
            format: int64
            minimum: 1
            type: integer
        - description: Number of items per page
          explode: false
          in: query
          name: pageSize
          schema:
            default: 25
            description: Number of items per page
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - description: Field to sort by
          explode: false
          in: query
          name: sortBy
          schema:
            default: createdAt
            description: Field to sort by
            enum:
              - id
              - templateId
              - accountId
              - categoryId
              - periodStart
              - periodEnd
              - amountLimit
              - createdAt
              - updatedAt
            type: string
        - description: Sort order
          explode: false
          in: query
          name: sortOrder
          schema:
            default: desc
            description: Sort order
            enum:
              - asc
              - desc
            type: string
        - description: Filter by template IDs
          explode: false
          in: query
          name: templateId
          schema:
            description: Filter by template IDs
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by account IDs
          explode: false
          in: query
          name: accountId
          schema:
            description: Filter by account IDs
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by category IDs
          explode: false
          in: query
          name: categoryId
          schema:
            description: Filter by category IDs
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BudgetsPagedModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get budget template related budgets
      tags:
        - Budget Templates
  /budgets/{template_id}/list/{budget_id}:
    get:
      description: Get a single budget generated from a budget template by ID
      operationId: get-generated-budget
      parameters:
        - description: Budget Template ID
          in: path
          name: template_id
          required: true
          schema:
            description: Budget Template ID
            format: int64
            minimum: 1
            type: integer
        - description: Budget ID
          in: path
          name: budget_id
          required: true
          schema:
            description: Budget ID
            format: int64
            minimum: 1
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BudgetModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get generated budget
      tags:
        - Budget Templates
    patch:
      description: Update an individual budget's amount limit only (does not affect template or future budgets)
      operationId: update-budget-from-template
      parameters:
        - description: Budget Template ID
          in: path
          name: template_id
          required: true
          schema:
            description: Budget Template ID
            format: int64
            minimum: 1
            type: integer
        - description: Budget ID
          in: path
          name: budget_id
          required: true
          schema:
            description: Budget ID
            format: int64
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateBudgetRequestModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BudgetModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Update generated budget
      tags:
        - Budget Templates
  /categories:
    get:
      description: Get a paginated list of categories with optional search
      operationId: list-categories
      parameters:
        - description: Page number for pagination
          explode: false
          in: query
          name: pageNumber
          schema:
            default: 1
            description: Page number for pagination
            format: int64
            minimum: 1
            type: integer
        - description: Number of items per page
          explode: false
          in: query
          name: pageSize
          schema:
            default: 25
            description: Number of items per page
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - description: Field to sort by
          explode: false
          in: query
          name: sortBy
          schema:
            default: createdAt
            description: Field to sort by
            enum:
              - name
              - type
              - createdAt
              - updatedAt
              - displayOrder
            type: string
        - description: Sort order (asc or desc)
          explode: false
          in: query
          name: sortOrder
          schema:
            default: desc
            description: Sort order (asc or desc)
            enum:
              - asc
              - desc
            type: string
        - description: Filter by category IDs
          explode: false
          in: query
          name: id
          schema:
            description: Filter by category IDs
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by category name (partial match)
          explode: false
          in: query
          name: name
          schema:
            description: Filter by category name (partial match)
            type: string
        - description: Filter by category type
          explode: false
          in: query
          name: type
          schema:
            description: Filter by category type
            items:
              enum:
                - expense
                - income
                - transfer
              type: string
            type:
              - array
              - "null"
        - description: Filter by archived status (true or false)
          explode: false
          in: query
          name: archived
          schema:
            description: Filter by archived status (true or false)
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoriesPagedModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: List categories
      tags:
        - Categories
    post:
      description: Create a new category
      operationId: create-category
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateCategoryModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoryModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Create category
      tags:
        - Categories
  /categories/reorder:
    post:
      description: Update display order for multiple categories
      operationId: reorder-categories
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ReorderCategoriesModel"
        required: true
      responses:
        "204":
          description: No Content
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Reorder categories
      tags:
        - Categories
  /categories/{id}:
    delete:
      description: Delete a category
      operationId: delete-category
      parameters:
        - description: Unique identifier of the category
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the category
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
      responses:
        "204":
          description: No Content
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Delete category
      tags:
        - Categories
    get:
      description: Get a single category by ID
      operationId: get-category
      parameters:
        - description: Unique identifier of the category
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the category
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoryModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get category
      tags:
        - Categories
    patch:
      description: Update an existing category
      operationId: update-category
      parameters:
        - description: Unique identifier of the category
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the category
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateCategoryModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoryModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Update category
      tags:
        - Categories
  /categories/{id}/statistics:
    get:
      description: Returns all lifestyle spending metrics for a category including spending velocity, account distribution, average transaction size, day-of-week patterns, and budget utilization
      operationId: get-category-statistics
      parameters:
        - description: Category ID
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Category ID
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoryStatisticsResponse"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get comprehensive category statistics
      tags:
        - Categories
  /categories/{id}/statistics/account-distribution:
    get:
      description: Returns which accounts pay for this category (donut chart data)
      operationId: get-account-distribution
      parameters:
        - description: Category ID
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Category ID
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoryStatisticAccountDistributionModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get account distribution for category
      tags:
        - Categories
  /categories/{id}/statistics/average-transaction-size:
    get:
      description: Returns typical transaction amounts, including min, max, median, and average
      operationId: get-average-transaction-size
      parameters:
        - description: Category ID
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Category ID
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoryStatisticAverageTransactionSizeModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get average transaction size for category
      tags:
        - Categories
  /categories/{id}/statistics/budget-utilization:
    get:
      description: Returns budget progress and remaining amounts for active budgets tied to this category
      operationId: get-budget-utilization
      parameters:
        - description: Category ID
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Category ID
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoryStatisticBudgetUtilizationModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get budget utilization for category
      tags:
        - Categories
  /categories/{id}/statistics/day-of-week-pattern:
    get:
      description: Returns spending patterns by day of week to show behavioral patterns
      operationId: get-day-of-week-pattern
      parameters:
        - description: Category ID
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Category ID
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoryStatisticDayOfWeekPatternModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get day-of-week spending pattern for category
      tags:
        - Categories
  /categories/{id}/statistics/spending-velocity:
    get:
      description: Returns monthly spending trend over the specified period (line chart data)
      operationId: get-spending-velocity
      parameters:
        - description: Category ID
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Category ID
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoryStatisticSpendingVelocityModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get category spending velocity trend
      tags:
        - Categories
  /preferences/refresh-geo-cache:
    post:
      description: Triggers background refresh of geolocation cache from database. Accepts optional user location to prioritize nearby transactions.
      operationId: refresh-geo-cache
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RefreshGeoCache"
        required: true
      responses:
        "204":
          description: No Content
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Refresh geolocation cache
      tags:
        - Preferences
  /seed/development:
    post:
      description: Seed the database with development data.
      operationId: seed-development-data
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SeedDevelopmentDataResponseBody"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Seed development data
      tags:
        - Development
  /summary/accounts:
    get:
      description: Returns transaction summary grouped by account
      operationId: get-account-summary
      parameters:
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SummaryAccountListModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get account summary
      tags:
        - Summary
  /summary/categories:
    get:
      description: Returns transaction summary grouped by category
      operationId: get-category-summary
      parameters:
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SummaryCategoryListModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get category summary
      tags:
        - Summary
  /summary/geospatial:
    get:
      description: Returns transaction summary aggregated by geographic grid cells within a radius
      operationId: get-geospatial-summary
      parameters:
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
        - description: Center latitude for geographic search
          example: -6.175
          explode: false
          in: query
          name: latitude
          required: true
          schema:
            description: Center latitude for geographic search
            examples:
              - -6.175
            format: double
            maximum: 90
            minimum: -90
            type: number
        - description: Center longitude for geographic search
          example: 106.827
          explode: false
          in: query
          name: longitude
          required: true
          schema:
            description: Center longitude for geographic search
            examples:
              - 106.827
            format: double
            maximum: 180
            minimum: -180
            type: number
        - description: Search radius in meters
          example: 5000
          explode: false
          in: query
          name: radiusMeters
          schema:
            default: 5000
            description: Search radius in meters
            examples:
              - 5000
            format: int64
            maximum: 50000
            minimum: 100
            type: integer
        - description: Grid cell precision (1=~11km, 2=~1.1km, 3=~110m, 4=~11m)
          example: 3
          explode: false
          in: query
          name: gridPrecision
          schema:
            default: 3
            description: Grid cell precision (1=~11km, 2=~1.1km, 3=~110m, 4=~11m)
            examples:
              - 3
            format: int64
            maximum: 4
            minimum: 1
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SummaryGeospatialListModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get geospatial transaction summary
      tags:
        - Summary
  /summary/transactions:
    get:
      description: Returns transaction summary grouped by frequency (daily, weekly, monthly, yearly)
      operationId: get-transaction-summary
      parameters:
        - description: Start date for filtering (ISO 8601 format)
          example: "2024-01-01T00:00:00Z"
          explode: false
          in: query
          name: startDate
          required: true
          schema:
            description: Start date for filtering (ISO 8601 format)
            examples:
              - "2024-01-01T00:00:00Z"
            format: date-time
            type: string
        - description: End date for filtering (ISO 8601 format)
          example: "2024-12-31T23:59:59Z"
          explode: false
          in: query
          name: endDate
          required: true
          schema:
            description: End date for filtering (ISO 8601 format)
            examples:
              - "2024-12-31T23:59:59Z"
            format: date-time
            type: string
        - description: Grouping frequency
          explode: false
          in: query
          name: frequency
          schema:
            default: monthly
            description: Grouping frequency
            enum:
              - daily
              - weekly
              - monthly
              - yearly
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SummaryTransactionListModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get transaction summary
      tags:
        - Summary
  /tags:
    get:
      description: Get a paginated list of tags with optional search
      operationId: list-tags
      parameters:
        - description: Page number for pagination
          explode: false
          in: query
          name: pageNumber
          schema:
            default: 1
            description: Page number for pagination
            format: int64
            minimum: 1
            type: integer
        - description: Number of items per page
          explode: false
          in: query
          name: pageSize
          schema:
            default: 25
            description: Number of items per page
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - description: Field to sort by
          explode: false
          in: query
          name: sortBy
          schema:
            default: createdAt
            description: Field to sort by
            enum:
              - id
              - name
              - createdAt
              - updatedAt
            type: string
        - description: Sort order
          explode: false
          in: query
          name: sortOrder
          schema:
            default: desc
            description: Sort order
            enum:
              - asc
              - desc
            type: string
        - description: Search by tag name
          explode: false
          in: query
          name: name
          schema:
            description: Search by tag name
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TagsPagedModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: List tags
      tags:
        - Tags
    post:
      description: Create a new tag
      operationId: create-tag
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateTagModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TagModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Create tag
      tags:
        - Tags
  /tags/{id}:
    delete:
      description: Delete a tag
      operationId: delete-tag
      parameters:
        - description: Unique identifier of the tag
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the tag
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
      responses:
        "204":
          description: No Content
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Delete tag
      tags:
        - Tags
    get:
      description: Get a single tag by ID
      operationId: get-tag
      parameters:
        - description: Unique identifier of the tag
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the tag
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TagModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get tag
      tags:
        - Tags
    patch:
      description: Update an existing tag
      operationId: update-tag
      parameters:
        - description: Unique identifier of the tag
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the tag
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateTagModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TagModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Update tag
      tags:
        - Tags
  /transaction-templates:
    get:
      description: Get a paginated list of transaction templates
      operationId: list-transaction-templates
      parameters:
        - description: Page number for pagination
          explode: false
          in: query
          name: pageNumber
          schema:
            default: 1
            description: Page number for pagination
            format: int64
            minimum: 1
            type: integer
        - description: Number of items per page
          explode: false
          in: query
          name: pageSize
          schema:
            default: 25
            description: Number of items per page
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - description: Field to sort by
          explode: false
          in: query
          name: sortBy
          schema:
            default: createdAt
            description: Field to sort by
            enum:
              - id
              - name
              - amount
              - type
              - createdAt
              - updatedAt
              - nextDueAt
            type: string
        - description: Sort order
          explode: false
          in: query
          name: sortOrder
          schema:
            default: desc
            description: Sort order
            enum:
              - asc
              - desc
            type: string
        - description: Search by template name
          explode: false
          in: query
          name: name
          schema:
            description: Search by template name
            type: string
        - description: Filter by transaction type
          explode: false
          in: query
          name: type
          schema:
            description: Filter by transaction type
            enum:
              - expense
              - income
              - transfer
            type: string
        - description: Filter by source account ID
          explode: false
          in: query
          name: accountId
          schema:
            description: Filter by source account ID
            format: int64
            minimum: 1
            type: integer
        - description: Filter by category ID
          explode: false
          in: query
          name: categoryId
          schema:
            description: Filter by category ID
            format: int64
            minimum: 1
            type: integer
        - description: Filter by destination account ID
          explode: false
          in: query
          name: destinationAccountId
          schema:
            description: Filter by destination account ID
            format: int64
            minimum: 1
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionTemplatesPagedModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: List transaction templates
      tags:
        - Transaction Templates
    post:
      description: Create a new transaction template for recurring/installment payments
      operationId: create-transaction-template
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateTransactionTemplateModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionTemplateModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Create transaction template
      tags:
        - Transaction Templates
  /transaction-templates/{templateId}:
    delete:
      description: Delete a transaction template
      operationId: delete-transaction-template
      parameters:
        - description: Unique identifier of the transaction template
          example: 1
          in: path
          name: templateId
          required: true
          schema:
            description: Unique identifier of the transaction template
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
      responses:
        "204":
          description: No Content
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Delete transaction template
      tags:
        - Transaction Templates
    get:
      description: Get a single transaction template by ID
      operationId: get-transaction-template
      parameters:
        - description: Unique identifier of the transaction template
          example: 1
          in: path
          name: templateId
          required: true
          schema:
            description: Unique identifier of the transaction template
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionTemplateModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get transaction template
      tags:
        - Transaction Templates
    patch:
      description: Update an existing transaction template
      operationId: update-transaction-template
      parameters:
        - description: Unique identifier of the transaction template
          example: 1
          in: path
          name: templateId
          required: true
          schema:
            description: Unique identifier of the transaction template
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateTransactionTemplateModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionTemplateModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Update transaction template
      tags:
        - Transaction Templates
  /transaction-templates/{templateId}/related:
    get:
      description: Get a paginated list of transactions related to a template
      operationId: list-transaction-template-related-transactions
      parameters:
        - description: Unique identifier of the transaction template
          example: 1
          in: path
          name: templateId
          required: true
          schema:
            description: Unique identifier of the transaction template
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
        - description: Page number for pagination
          explode: false
          in: query
          name: pageNumber
          schema:
            default: 1
            description: Page number for pagination
            format: int64
            minimum: 1
            type: integer
        - description: Number of items per page
          explode: false
          in: query
          name: pageSize
          schema:
            default: 25
            description: Number of items per page
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - description: Field to sort by
          explode: false
          in: query
          name: sortBy
          schema:
            default: date
            description: Field to sort by
            enum:
              - id
              - type
              - date
              - amount
              - createdAt
              - updatedAt
            type: string
        - description: Sort order (asc or desc)
          explode: false
          in: query
          name: sortOrder
          schema:
            default: desc
            description: Sort order (asc or desc)
            enum:
              - asc
              - desc
            type: string
        - description: Filter by transaction type
          explode: false
          in: query
          name: type
          schema:
            description: Filter by transaction type
            items:
              enum:
                - expense
                - income
                - transfer
              type: string
            type:
              - array
              - "null"
        - description: Filter by source account IDs
          explode: false
          in: query
          name: accountId
          schema:
            description: Filter by source account IDs
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by category IDs
          explode: false
          in: query
          name: categoryId
          schema:
            description: Filter by category IDs
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by destination account IDs (transfers)
          explode: false
          in: query
          name: destinationAccountId
          schema:
            description: Filter by destination account IDs (transfers)
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by tag IDs
          explode: false
          in: query
          name: tagId
          schema:
            description: Filter by tag IDs
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by start date (YYYY-MM-DD)
          explode: false
          in: query
          name: startDate
          schema:
            description: Filter by start date (YYYY-MM-DD)
            format: date-time
            type: string
        - description: Filter by end date (YYYY-MM-DD)
          explode: false
          in: query
          name: endDate
          schema:
            description: Filter by end date (YYYY-MM-DD)
            format: date-time
            type: string
        - description: Filter by minimum amount
          explode: false
          in: query
          name: minAmount
          schema:
            description: Filter by minimum amount
            format: int64
            minimum: 0
            type: integer
        - description: Filter by maximum amount
          explode: false
          in: query
          name: maxAmount
          schema:
            description: Filter by maximum amount
            format: int64
            minimum: 0
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionsPagedModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: List related transactions
      tags:
        - Transaction Templates
  /transactions:
    get:
      description: Get a paginated list of transactions with optional filters
      operationId: list-transactions
      parameters:
        - description: Page number for pagination
          explode: false
          in: query
          name: pageNumber
          schema:
            default: 1
            description: Page number for pagination
            format: int64
            minimum: 1
            type: integer
        - description: Number of items per page
          explode: false
          in: query
          name: pageSize
          schema:
            default: 25
            description: Number of items per page
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - description: Field to sort by
          explode: false
          in: query
          name: sortBy
          schema:
            default: date
            description: Field to sort by
            enum:
              - id
              - type
              - date
              - amount
              - createdAt
              - updatedAt
            type: string
        - description: Sort order (asc or desc)
          explode: false
          in: query
          name: sortOrder
          schema:
            default: desc
            description: Sort order (asc or desc)
            enum:
              - asc
              - desc
            type: string
        - description: Filter by transaction IDs
          explode: false
          in: query
          name: id
          schema:
            description: Filter by transaction IDs
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by transaction type
          explode: false
          in: query
          name: type
          schema:
            description: Filter by transaction type
            items:
              enum:
                - expense
                - income
                - transfer
              type: string
            type:
              - array
              - "null"
        - description: Filter by account IDs (source or destination)
          explode: false
          in: query
          name: accountId
          schema:
            description: Filter by account IDs (source or destination)
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by category IDs
          explode: false
          in: query
          name: categoryId
          schema:
            description: Filter by category IDs
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by destination account IDs (transfers)
          explode: false
          in: query
          name: destinationAccountId
          schema:
            description: Filter by destination account IDs (transfers)
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by transaction template IDs
          explode: false
          in: query
          name: templateId
          schema:
            description: Filter by transaction template IDs
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by tag IDs
          explode: false
          in: query
          name: tagId
          schema:
            description: Filter by tag IDs
            items:
              format: int64
              type: integer
            type:
              - array
              - "null"
        - description: Filter by currency codes (e.g., USD, EUR)
          explode: false
          in: query
          name: currencyCode
          schema:
            description: Filter by currency codes (e.g., USD, EUR)
            items:
              type: string
            type:
              - array
              - "null"
        - description: Filter by start date (YYYY-MM-DD)
          explode: false
          in: query
          name: startDate
          schema:
            description: Filter by start date (YYYY-MM-DD)
            format: date-time
            type: string
        - description: Filter by end date (YYYY-MM-DD)
          explode: false
          in: query
          name: endDate
          schema:
            description: Filter by end date (YYYY-MM-DD)
            format: date-time
            type: string
        - description: Filter by minimum amount
          explode: false
          in: query
          name: minAmount
          schema:
            description: Filter by minimum amount
            format: int64
            minimum: 0
            type: integer
        - description: Filter by maximum amount
          explode: false
          in: query
          name: maxAmount
          schema:
            description: Filter by maximum amount
            format: int64
            minimum: 0
            type: integer
        - description: Latitude for geospatial search
          explode: false
          in: query
          name: latitude
          schema:
            description: Latitude for geospatial search
            format: double
            maximum: 90
            minimum: -90
            type: number
        - description: Longitude for geospatial search
          explode: false
          in: query
          name: longitude
          schema:
            description: Longitude for geospatial search
            format: double
            maximum: 180
            minimum: -180
            type: number
        - description: Search radius in meters
          explode: false
          in: query
          name: radiusMeters
          schema:
            default: 500
            description: Search radius in meters
            format: int64
            maximum: 50000
            minimum: 100
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionsPagedModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: List transactions
      tags:
        - Transactions
    post:
      description: Create a new transaction
      operationId: create-transaction
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateTransactionModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Create transaction
      tags:
        - Transactions
  /transactions/bulk/draft:
    delete:
      description: Discards pending draft changes without applying them to database.
      operationId: delete-transactions-bulk-draft
      responses:
        "204":
          description: No Content
          headers:
            StatusCode:
              schema:
                format: int64
                type: integer
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      summary: Delete draft without committing
      tags:
        - Transactions
    get:
      description: Retrieves saved draft from Redis to resume editing. One draft per user.
      operationId: get-transactions-bulk-draft
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BulkTransactionDraftModel"
          description: OK
          headers:
            Metadata:
              schema:
                $ref: "#/components/schemas/BulkTransactionDraftResponseModel"
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      summary: Retrieve bulk transaction draft
      tags:
        - Transactions
    patch:
      description: Saves pending transaction updates to Redis as a draft/savepoint. One draft per user - overwrites existing draft. Expires after 24 hours.
      operationId: patch-transactions-bulk-draft
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BulkTransactionDraftModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BulkTransactionDraftResponseModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      summary: Save bulk transaction updates as draft
      tags:
        - Transactions
  /transactions/bulk/draft/commit:
    post:
      description: Applies all draft changes to database in a single transaction (all-or-nothing). Invalidates caches and deletes draft.
      operationId: post-transactions-bulk-commit
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BulkTransactionCommitResponseModel"
          description: OK
          headers:
            StatusCode:
              schema:
                format: int64
                type: integer
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      summary: Commit bulk transaction updates atomically
      tags:
        - Transactions
  /transactions/{id}:
    delete:
      description: Delete a transaction
      operationId: delete-transaction
      parameters:
        - description: Unique identifier of the transaction
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the transaction
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
      responses:
        "204":
          description: No Content
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Delete transaction
      tags:
        - Transactions
    get:
      description: Get a single transaction by ID
      operationId: get-transaction
      parameters:
        - description: Unique identifier of the transaction
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the transaction
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get transaction
      tags:
        - Transactions
    patch:
      description: Update an existing transaction
      operationId: update-transaction
      parameters:
        - description: Unique identifier of the transaction
          example: 1
          in: path
          name: id
          required: true
          schema:
            description: Unique identifier of the transaction
            examples:
              - 1
            format: int64
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateTransactionModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Update transaction
      tags:
        - Transactions
  /transactions/{sourceTransactionId}/relations:
    get:
      description: Get a paginated list of relations for a transaction
      operationId: list-transaction-relations
      parameters:
        - description: Source transaction ID to list relations for
          in: path
          name: sourceTransactionId
          required: true
          schema:
            description: Source transaction ID to list relations for
            format: int64
            minimum: 1
            type: integer
        - description: Page number for pagination
          explode: false
          in: query
          name: pageNumber
          schema:
            default: 1
            description: Page number for pagination
            format: int64
            minimum: 1
            type: integer
        - description: Number of items per page
          explode: false
          in: query
          name: pageSize
          schema:
            default: 25
            description: Number of items per page
            format: int64
            maximum: 100
            minimum: 1
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionRelationsPagedModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: List transaction relations
      tags:
        - Transaction Relations
    post:
      description: Create a relation between two transactions
      operationId: create-transaction-relation
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateTransactionRelationModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionRelationModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Create transaction relation
      tags:
        - Transaction Relations
  /transactions/{sourceTransactionId}/relations/{relationId}:
    delete:
      description: Delete a relation between transactions
      operationId: delete-transaction-relation
      parameters:
        - description: ID of the source transaction
          in: path
          name: sourceTransactionId
          required: true
          schema:
            description: ID of the source transaction
            format: int64
            minimum: 1
            type: integer
        - description: ID of the relation to delete
          in: path
          name: relationId
          required: true
          schema:
            description: ID of the relation to delete
            format: int64
            minimum: 1
            type: integer
      responses:
        "204":
          description: No Content
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Delete transaction relation
      tags:
        - Transaction Relations
    get:
      description: Get a specific relation between transactions
      operationId: get-transaction-relation
      parameters:
        - description: Source transaction ID
          in: path
          name: sourceTransactionId
          required: true
          schema:
            description: Source transaction ID
            format: int64
            minimum: 1
            type: integer
        - description: Relation ID
          in: path
          name: relationId
          required: true
          schema:
            description: Relation ID
            format: int64
            minimum: 1
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionRelationModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get transaction relation
      tags:
        - Transaction Relations
  /transactions/{transactionId}/tags:
    get:
      description: Get a paginated list of tags for a transaction
      operationId: list-transaction-tags
      parameters:
        - description: Transaction ID to list tags for
          in: path
          name: transactionId
          required: true
          schema:
            description: Transaction ID to list tags for
            format: int64
            minimum: 1
            type: integer
        - description: Page number for pagination
          explode: false
          in: query
          name: pageNumber
          schema:
            default: 1
            description: Page number for pagination
            format: int64
            minimum: 1
            type: integer
        - description: Number of items per page
          explode: false
          in: query
          name: pageSize
          schema:
            default: 25
            description: Number of items per page
            format: int64
            maximum: 100
            minimum: 1
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionTagsPagedModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: List transaction tags
      tags:
        - Transaction Tags
    post:
      description: Add a tag to a transaction
      operationId: create-transaction-tag
      parameters:
        - description: Transaction ID
          in: path
          name: transactionId
          required: true
          schema:
            description: Transaction ID
            format: int64
            minimum: 1
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateTransactionTagModel"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionTagModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Add tag to transaction
      tags:
        - Transaction Tags
  /transactions/{transactionId}/tags/{tagId}:
    delete:
      description: Remove a tag from a transaction
      operationId: delete-transaction-tag
      parameters:
        - description: Transaction ID
          in: path
          name: transactionId
          required: true
          schema:
            description: Transaction ID
            format: int64
            minimum: 1
            type: integer
        - description: Tag ID
          in: path
          name: tagId
          required: true
          schema:
            description: Tag ID
            format: int64
            minimum: 1
            type: integer
      responses:
        "204":
          description: No Content
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Remove tag from transaction
      tags:
        - Transaction Tags
    get:
      description: Get a specific tag on a transaction
      operationId: get-transaction-tag
      parameters:
        - description: Transaction ID
          in: path
          name: transactionId
          required: true
          schema:
            description: Transaction ID
            format: int64
            minimum: 1
            type: integer
        - description: Tag ID
          in: path
          name: tagId
          required: true
          schema:
            description: Tag ID
            format: int64
            minimum: 1
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionTagModel"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - bearer: []
      summary: Get transaction tag
      tags:
        - Transaction Tags
servers:
  - description: Development server
    url: http://localhost:8080
